Installation d’un serveur web 
 
Objectif : 
•	Installer un serveur web Apache : Comprendre le rôle d’un serveur web et mettre en service Apache sur Debian. 
•	Installer et configurer PHP :  Permettre l’exécution de pages dynamiques sur le serveur. 
•	Paramétrer plusieurs sites virtuels (Virtual Hosts) avec Apache : Héberger plusieurs sites ou sous-domaines sur une même machine. 
•	Associer des noms de domaine et sous-domaines aux sites hébergés : Configurer le DNS et relier les domaines aux Virtual Hosts Apache. 
 
Informations de connexion :  
•	Username : root 
•	Password : Pq 
•	IP : 109.71.0.0 
•	Port : 22 
 
Partie 1 : Connexion et mises à jour 
•	En vous basant sur vos connaissances, connectez-vous en SSH sur le serveur mis à disposition pour l’exercice.  
 
•	Mettre à jour le système :  
sudo apt update && sudo apt upgrade 
 
Partie 2 : Apache 
•	Installer Apache avec la commande :  
sudo apt install apache2 
 
•	Vérifier que le service fonctionne :  
sudo systemctl status apache2 
 
•	Le texte suivant devrait s’afficher :  
active (running) 
 
•	Tester dans un navigateur, en ouvrant la page :  
http://109.71.252.6 
 
Partie 3 : PHP 
•	Installer PHP et le module Apache :  
sudo apt install php libapache2-mod-php php-cli php-common 
 
•	Vérifier la version de PHP :  
php –v 
 
•	Le texte suivant devrait s’afficher (les versions peuvent changer) :  
PHP 8.3.1 (cli) 
 
•	Créer un fichier de test PHP 
echo "<?php phpinfo(); ?>" | sudo tee /var/www/html/info.php 
 
•	Ouvrir le test dans ton navigateur 
http://109.71.252.6/info.php 
 
Partie 4 : Créer et configurer les sites 
•	Créer les dossiers pour les sites :  
sudo mkdir -p /var/www/alay-main 
sudo mkdir -p /var/www/alay-sub1 
sudo mkdir -p /var/www/alay-sub2 
 
•	Donner les droits corrects :  
sudo chown -R www-data:www-data /var/www/alay-* 
sudo chmod -R 755 /var/www/alay-* 
 
•	Créer une page d’accueil simple pour chaque site :  
echo "<h1>Bienvenue sur alay-main.applications.ws</h1>" | sudo tee /var/www/alay-main/index.html 
echo "<h1>Bienvenue sur alay-sub1.applications.ws</h1>" | sudo tee /var/www/alay-sub1/index.html 
echo "<h1>Bienvenue sur alay-sub2.applications.ws</h1>" | sudo tee /var/www/alay-sub2/index.html 
 
•	Créer les fichiers de configuration Apache 
sudo nano /etc/apache2/sites-available/alay-main.conf 
 
•	Ajouter le contenu au fichier :  
<VirtualHost *:80>  
ServerName alay-main.applications.ws  
ServerAdmin webmaster@applications.ws  
DocumentRoot /var/www/alay-main 
<Directory /var/www/alay-main> 
		AllowOverride All 
		Require all granted 
	</Directory> 
 
	ErrorLog ${APACHE_LOG_DIR}/alay-main-error.log 
CustomLog ${APACHE_LOG_DIR}/alay-main-access.log combined 
</VirtualHost> 
 
•	Copier le fichier de configuration pour les deux autres sites :   
sudo cp /etc/apache2/sites-available/alay-main.conf /etc/apache2/sites-available/alay-sub1.conf 
sudo cp /etc/apache2/sites-available/alay-main.conf /etc/apache2/sites-available/alay-sub2.conf 
 
•	Modifier le ServerName et le DocumentRoot des deux fichiers :  
sudo nano /etc/apache2/sites-available/alay-sub1.conf 
sudo nano /etc/apache2/sites-available/alay-sub2.conf 
 
Partie 5 : Activer les sites 
•	Activer les sites avec les commandes :  
sudo a2ensite alay-main.conf 
sudo a2ensite alay-sub1.conf 
sudo a2ensite alay-sub2.conf 
 
•	Désactiver le site par défaut : 
sudo a2dissite 000-default.conf 
 
•	Recharger Apache:  
sudo systemctl restart apache2 
 
 
 
Partie 6 : Tester dans le navigateur 
•	Ouvrir les liens suivants :  
http://alay-main.applications.ws 
http://alay-sub1.applications.ws 
http://alay-sub2.applications.ws 
 
 
Partie 7 : Certificat SSL 
•	Installer les packages certbot : 
sudo apt install certbot python3-certbot-apache 
 
•	Lancer certbot et suivre les instructions en choisissant les domaines alay-main.applications.ws , alay-sub1.applications.ws , alay-sub2.applications.ws :  
sudo certbot --apache 
 
 
Variante : Installation – Serveur node 
How to Install Node.js on Debian 13 | RoseHosting 
 
Définir l'admin par défaut
Dans le fichier sql/seed.sql, l'admin est créé automatiquement :
•	Nom d'utilisateur : admin
•	Email : admin@orif.ch
•	Mot de passe : admin123
•	Rôle : admin

